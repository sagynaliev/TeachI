{"ast":null,"code":"import _objectSpread from\"C:/Users/Alikhan/Desktop/TeachI MVP/TeachI/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useState,useEffect}from'react';import{useAuth}from'../../context/AuthContext';import axios from'axios';import{CalendarIcon,CheckCircleIcon,XCircleIcon,ClockIcon,ExclamationCircleIcon}from'@heroicons/react/24/outline';import LoadingSpinner from'../Common/LoadingSpinner';import toast from'react-hot-toast';import{formatDateISO}from'../../utils/dateUtils';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AttendanceView=()=>{const{user}=useAuth();const[attendanceData,setAttendanceData]=useState([]);const[courses,setCourses]=useState([]);const[selectedCourse,setSelectedCourse]=useState('');const[selectedDate,setSelectedDate]=useState(formatDateISO(new Date()));const[loading,setLoading]=useState(true);const[markingAttendance,setMarkingAttendance]=useState(false);const[attendanceForm,setAttendanceForm]=useState({students:[],classType:'lecture',topic:'',duration:60});useEffect(()=>{if((user===null||user===void 0?void 0:user.role)==='student'){fetchStudentAttendance();}else{fetchInstructorCourses();}},[]);useEffect(()=>{if(selectedCourse&&(user===null||user===void 0?void 0:user.role)!=='student'){fetchCourseAttendance();fetchEnrolledStudents();}},[selectedCourse]);const fetchStudentAttendance=async()=>{try{const response=await axios.get(\"/api/attendance/student/\".concat(user._id));setAttendanceData(response.data);}catch(error){console.error('Error fetching attendance:',error);}finally{setLoading(false);}};const fetchInstructorCourses=async()=>{try{const response=await axios.get(\"/api/courses/instructor/\".concat(user._id));setCourses(response.data);if(response.data.length>0){setSelectedCourse(response.data[0]._id);}}catch(error){console.error('Error fetching courses:',error);}finally{setLoading(false);}};const fetchCourseAttendance=async()=>{try{const response=await axios.get(\"/api/attendance/course/\".concat(selectedCourse));setAttendanceData(response.data);}catch(error){console.error('Error fetching course attendance:',error);}};const fetchEnrolledStudents=async()=>{try{const response=await axios.get(\"/api/enrollments/course/\".concat(selectedCourse));const students=response.data.map(enrollment=>({student:enrollment.student._id,name:\"\".concat(enrollment.student.firstName,\" \").concat(enrollment.student.lastName),status:'present'}));setAttendanceForm(prev=>_objectSpread(_objectSpread({},prev),{},{students}));}catch(error){console.error('Error fetching students:',error);}};const handleStudentStatusChange=(studentId,status)=>{setAttendanceForm(prev=>_objectSpread(_objectSpread({},prev),{},{students:prev.students.map(student=>student.student===studentId?_objectSpread(_objectSpread({},student),{},{status}):student)}));};const markAttendance=async()=>{if(!selectedCourse||!selectedDate){toast.error('Please select course and date');return;}setMarkingAttendance(true);try{await axios.post('/api/attendance',{courseId:selectedCourse,date:selectedDate,students:attendanceForm.students.map(s=>({student:s.student,status:s.status})),classType:attendanceForm.classType,topic:attendanceForm.topic,duration:attendanceForm.duration});toast.success('Attendance marked successfully!');fetchCourseAttendance();}catch(error){var _error$response,_error$response$data;toast.error(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||'Failed to mark attendance');}finally{setMarkingAttendance(false);}};const getStatusIcon=status=>{switch(status){case'present':return/*#__PURE__*/_jsx(CheckCircleIcon,{className:\"h-5 w-5 text-green-500\"});case'absent':return/*#__PURE__*/_jsx(XCircleIcon,{className:\"h-5 w-5 text-red-500\"});case'late':return/*#__PURE__*/_jsx(ClockIcon,{className:\"h-5 w-5 text-yellow-500\"});case'excused':return/*#__PURE__*/_jsx(ExclamationCircleIcon,{className:\"h-5 w-5 text-blue-500\"});default:return null;}};const getStatusColor=status=>{switch(status){case'present':return'text-green-600 bg-green-100';case'absent':return'text-red-600 bg-red-100';case'late':return'text-yellow-600 bg-yellow-100';case'excused':return'text-blue-600 bg-blue-100';default:return'text-gray-600 bg-gray-100';}};if(loading){return/*#__PURE__*/_jsx(LoadingSpinner,{});}return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900\",children:\"Attendance\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-gray-600\",children:(user===null||user===void 0?void 0:user.role)==='student'?'View your attendance records across all courses':'Mark and track student attendance for your courses'})]}),(user===null||user===void 0?void 0:user.role)==='student'?/*#__PURE__*//* Student Attendance View */_jsx(\"div\",{className:\"space-y-6\",children:attendanceData.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(CalendarIcon,{className:\"h-12 w-12 text-gray-400 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-2\",children:\"No attendance records\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Your attendance will appear here once classes begin\"})]}):attendanceData.map(courseData=>/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-gray-900\",children:courseData.course.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:courseData.course.courseCode})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:[courseData.attendance.attendancePercentage.toFixed(1),\"%\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[courseData.attendance.attendedClasses,\"/\",courseData.attendance.totalClasses,\" classes\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-3 rounded-full \".concat(courseData.attendance.attendancePercentage>=75?'bg-green-500':courseData.attendance.attendancePercentage>=60?'bg-yellow-500':'bg-red-500'),style:{width:\"\".concat(courseData.attendance.attendancePercentage,\"%\")}})})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium text-gray-900 mb-3\",children:\"Recent Records\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:courseData.records.slice(0,5).map((record,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[getStatusIcon(record.status),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-900\",children:new Date(record.date).toLocaleDateString()}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-600 capitalize\",children:record.classType})]})]}),/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 rounded-full text-xs font-medium \".concat(getStatusColor(record.status)),children:record.status.charAt(0).toUpperCase()+record.status.slice(1)})]},index))})]})]},courseData.course._id))}):/*#__PURE__*//* Instructor Attendance Management */_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"Mark Attendance\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Course\"}),/*#__PURE__*/_jsxs(\"select\",{value:selectedCourse,onChange:e=>setSelectedCourse(e.target.value),className:\"input\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Course\"}),courses.map(course=>/*#__PURE__*/_jsxs(\"option\",{value:course._id,children:[course.title,\" (\",course.courseCode,\")\"]},course._id))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:selectedDate,onChange:e=>setSelectedDate(e.target.value),className:\"input\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Class Type\"}),/*#__PURE__*/_jsxs(\"select\",{value:attendanceForm.classType,onChange:e=>setAttendanceForm(prev=>_objectSpread(_objectSpread({},prev),{},{classType:e.target.value})),className:\"input\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"lecture\",children:\"Lecture\"}),/*#__PURE__*/_jsx(\"option\",{value:\"lab\",children:\"Lab\"}),/*#__PURE__*/_jsx(\"option\",{value:\"tutorial\",children:\"Tutorial\"}),/*#__PURE__*/_jsx(\"option\",{value:\"exam\",children:\"Exam\"}),/*#__PURE__*/_jsx(\"option\",{value:\"other\",children:\"Other\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Duration (min)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:attendanceForm.duration,onChange:e=>setAttendanceForm(prev=>_objectSpread(_objectSpread({},prev),{},{duration:parseInt(e.target.value)})),className:\"input\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Topic\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:attendanceForm.topic,onChange:e=>setAttendanceForm(prev=>_objectSpread(_objectSpread({},prev),{},{topic:e.target.value})),className:\"input\",placeholder:\"Today's topic or lesson\"})]}),attendanceForm.students.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium text-gray-900 mb-3\",children:\"Students\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2 mb-6\",children:attendanceForm.students.map(student=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-900\",children:student.name}),/*#__PURE__*/_jsx(\"div\",{className:\"flex space-x-2\",children:['present','absent','late','excused'].map(status=>/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"student-\".concat(student.student),value:status,checked:student.status===status,onChange:e=>handleStudentStatusChange(student.student,e.target.value),className:\"mr-1\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm capitalize\",children:status})]},status))})]},student.student))}),/*#__PURE__*/_jsx(\"button\",{onClick:markAttendance,disabled:markingAttendance||!selectedCourse||!selectedDate,className:\"btn btn-primary disabled:opacity-50\",children:markingAttendance?'Marking...':'Mark Attendance'})]})]}),selectedCourse&&attendanceData.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"Attendance History\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:attendanceData.map(record=>{var _record$students,_record$students2,_record$students3,_record$students4,_record$students5;const stats=record.getAttendanceStats?record.getAttendanceStats():{total:((_record$students=record.students)===null||_record$students===void 0?void 0:_record$students.length)||0,present:((_record$students2=record.students)===null||_record$students2===void 0?void 0:_record$students2.filter(s=>s.status==='present').length)||0,absent:((_record$students3=record.students)===null||_record$students3===void 0?void 0:_record$students3.filter(s=>s.status==='absent').length)||0,late:((_record$students4=record.students)===null||_record$students4===void 0?void 0:_record$students4.filter(s=>s.status==='late').length)||0,excused:((_record$students5=record.students)===null||_record$students5===void 0?void 0:_record$students5.filter(s=>s.status==='excused').length)||0};return/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 border rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium text-gray-900\",children:new Date(record.date).toLocaleDateString()}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[record.topic||'No topic specified',\" \\u2022 \",record.classType]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"font-semibold text-gray-900\",children:[(stats.present/stats.total*100).toFixed(1),\"% present\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[stats.present,\"/\",stats.total,\" students\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-4 gap-4 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-green-600\",children:stats.present}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Present\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-red-600\",children:stats.absent}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Absent\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-yellow-600\",children:stats.late}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Late\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-blue-600\",children:stats.excused}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Excused\"})]})]})]},record._id);})})]})]})]});};export default AttendanceView;","map":{"version":3,"names":["useState","useEffect","useAuth","axios","CalendarIcon","CheckCircleIcon","XCircleIcon","ClockIcon","ExclamationCircleIcon","LoadingSpinner","toast","formatDateISO","jsx","_jsx","jsxs","_jsxs","AttendanceView","user","attendanceData","setAttendanceData","courses","setCourses","selectedCourse","setSelectedCourse","selectedDate","setSelectedDate","Date","loading","setLoading","markingAttendance","setMarkingAttendance","attendanceForm","setAttendanceForm","students","classType","topic","duration","role","fetchStudentAttendance","fetchInstructorCourses","fetchCourseAttendance","fetchEnrolledStudents","response","get","concat","_id","data","error","console","length","map","enrollment","student","name","firstName","lastName","status","prev","_objectSpread","handleStudentStatusChange","studentId","markAttendance","post","courseId","date","s","success","_error$response","_error$response$data","message","getStatusIcon","className","getStatusColor","children","courseData","course","title","courseCode","attendance","attendancePercentage","toFixed","attendedClasses","totalClasses","style","width","records","slice","record","index","toLocaleDateString","charAt","toUpperCase","value","onChange","e","target","type","parseInt","placeholder","checked","onClick","disabled","_record$students","_record$students2","_record$students3","_record$students4","_record$students5","stats","getAttendanceStats","total","present","filter","absent","late","excused"],"sources":["C:/Users/Alikhan/Desktop/TeachI MVP/TeachI/frontend/src/components/Attendance/AttendanceView.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { useAuth } from '../../context/AuthContext';\nimport axios from 'axios';\nimport { \n  CalendarIcon,\n  CheckCircleIcon,\n  XCircleIcon,\n  ClockIcon,\n  ExclamationCircleIcon\n} from '@heroicons/react/24/outline';\nimport LoadingSpinner from '../Common/LoadingSpinner';\nimport toast from 'react-hot-toast';\nimport { formatDateISO } from '../../utils/dateUtils';\n\nconst AttendanceView = () => {\n  const { user } = useAuth();\n  const [attendanceData, setAttendanceData] = useState([]);\n  const [courses, setCourses] = useState([]);\n  const [selectedCourse, setSelectedCourse] = useState('');\n  const [selectedDate, setSelectedDate] = useState(formatDateISO(new Date()));\n  const [loading, setLoading] = useState(true);\n  const [markingAttendance, setMarkingAttendance] = useState(false);\n  const [attendanceForm, setAttendanceForm] = useState({\n    students: [],\n    classType: 'lecture',\n    topic: '',\n    duration: 60\n  });\n\n  useEffect(() => {\n    if (user?.role === 'student') {\n      fetchStudentAttendance();\n    } else {\n      fetchInstructorCourses();\n    }\n  }, []);\n\n  useEffect(() => {\n    if (selectedCourse && user?.role !== 'student') {\n      fetchCourseAttendance();\n      fetchEnrolledStudents();\n    }\n  }, [selectedCourse]);\n\n  const fetchStudentAttendance = async () => {\n    try {\n      const response = await axios.get(`/api/attendance/student/${user._id}`);\n      setAttendanceData(response.data);\n    } catch (error) {\n      console.error('Error fetching attendance:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchInstructorCourses = async () => {\n    try {\n      const response = await axios.get(`/api/courses/instructor/${user._id}`);\n      setCourses(response.data);\n      if (response.data.length > 0) {\n        setSelectedCourse(response.data[0]._id);\n      }\n    } catch (error) {\n      console.error('Error fetching courses:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchCourseAttendance = async () => {\n    try {\n      const response = await axios.get(`/api/attendance/course/${selectedCourse}`);\n      setAttendanceData(response.data);\n    } catch (error) {\n      console.error('Error fetching course attendance:', error);\n    }\n  };\n\n  const fetchEnrolledStudents = async () => {\n    try {\n      const response = await axios.get(`/api/enrollments/course/${selectedCourse}`);\n      const students = response.data.map(enrollment => ({\n        student: enrollment.student._id,\n        name: `${enrollment.student.firstName} ${enrollment.student.lastName}`,\n        status: 'present'\n      }));\n      setAttendanceForm(prev => ({ ...prev, students }));\n    } catch (error) {\n      console.error('Error fetching students:', error);\n    }\n  };\n\n  const handleStudentStatusChange = (studentId, status) => {\n    setAttendanceForm(prev => ({\n      ...prev,\n      students: prev.students.map(student =>\n        student.student === studentId ? { ...student, status } : student\n      )\n    }));\n  };\n\n  const markAttendance = async () => {\n    if (!selectedCourse || !selectedDate) {\n      toast.error('Please select course and date');\n      return;\n    }\n\n    setMarkingAttendance(true);\n    try {\n      await axios.post('/api/attendance', {\n        courseId: selectedCourse,\n        date: selectedDate,\n        students: attendanceForm.students.map(s => ({\n          student: s.student,\n          status: s.status\n        })),\n        classType: attendanceForm.classType,\n        topic: attendanceForm.topic,\n        duration: attendanceForm.duration\n      });\n\n      toast.success('Attendance marked successfully!');\n      fetchCourseAttendance();\n    } catch (error) {\n      toast.error(error.response?.data?.message || 'Failed to mark attendance');\n    } finally {\n      setMarkingAttendance(false);\n    }\n  };\n\n  const getStatusIcon = (status) => {\n    switch (status) {\n      case 'present':\n        return <CheckCircleIcon className=\"h-5 w-5 text-green-500\" />;\n      case 'absent':\n        return <XCircleIcon className=\"h-5 w-5 text-red-500\" />;\n      case 'late':\n        return <ClockIcon className=\"h-5 w-5 text-yellow-500\" />;\n      case 'excused':\n        return <ExclamationCircleIcon className=\"h-5 w-5 text-blue-500\" />;\n      default:\n        return null;\n    }\n  };\n\n  const getStatusColor = (status) => {\n    switch (status) {\n      case 'present':\n        return 'text-green-600 bg-green-100';\n      case 'absent':\n        return 'text-red-600 bg-red-100';\n      case 'late':\n        return 'text-yellow-600 bg-yellow-100';\n      case 'excused':\n        return 'text-blue-600 bg-blue-100';\n      default:\n        return 'text-gray-600 bg-gray-100';\n    }\n  };\n\n  if (loading) {\n    return <LoadingSpinner />;\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div>\n        <h1 className=\"text-2xl font-bold text-gray-900\">Attendance</h1>\n        <p className=\"mt-2 text-gray-600\">\n          {user?.role === 'student' \n            ? 'View your attendance records across all courses'\n            : 'Mark and track student attendance for your courses'\n          }\n        </p>\n      </div>\n\n      {user?.role === 'student' ? (\n        /* Student Attendance View */\n        <div className=\"space-y-6\">\n          {attendanceData.length === 0 ? (\n            <div className=\"text-center py-12\">\n              <CalendarIcon className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\n              <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No attendance records</h3>\n              <p className=\"text-gray-600\">Your attendance will appear here once classes begin</p>\n            </div>\n          ) : (\n            attendanceData.map((courseData) => (\n              <div key={courseData.course._id} className=\"card\">\n                <div className=\"flex items-center justify-between mb-6\">\n                  <div>\n                    <h2 className=\"text-lg font-semibold text-gray-900\">\n                      {courseData.course.title}\n                    </h2>\n                    <p className=\"text-gray-600\">{courseData.course.courseCode}</p>\n                  </div>\n                  <div className=\"text-right\">\n                    <p className=\"text-2xl font-bold text-gray-900\">\n                      {courseData.attendance.attendancePercentage.toFixed(1)}%\n                    </p>\n                    <p className=\"text-sm text-gray-600\">\n                      {courseData.attendance.attendedClasses}/{courseData.attendance.totalClasses} classes\n                    </p>\n                  </div>\n                </div>\n\n                {/* Progress Bar */}\n                <div className=\"mb-6\">\n                  <div className=\"w-full bg-gray-200 rounded-full h-3\">\n                    <div \n                      className={`h-3 rounded-full ${\n                        courseData.attendance.attendancePercentage >= 75 ? 'bg-green-500' :\n                        courseData.attendance.attendancePercentage >= 60 ? 'bg-yellow-500' : 'bg-red-500'\n                      }`}\n                      style={{ width: `${courseData.attendance.attendancePercentage}%` }}\n                    ></div>\n                  </div>\n                </div>\n\n                {/* Recent Records */}\n                <div>\n                  <h3 className=\"font-medium text-gray-900 mb-3\">Recent Records</h3>\n                  <div className=\"space-y-2\">\n                    {courseData.records.slice(0, 5).map((record, index) => (\n                      <div key={index} className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\">\n                        <div className=\"flex items-center\">\n                          {getStatusIcon(record.status)}\n                          <div className=\"ml-3\">\n                            <p className=\"text-sm font-medium text-gray-900\">\n                              {new Date(record.date).toLocaleDateString()}\n                            </p>\n                            <p className=\"text-xs text-gray-600 capitalize\">{record.classType}</p>\n                          </div>\n                        </div>\n                        <span className={`px-2 py-1 rounded-full text-xs font-medium ${getStatusColor(record.status)}`}>\n                          {record.status.charAt(0).toUpperCase() + record.status.slice(1)}\n                        </span>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              </div>\n            ))\n          )}\n        </div>\n      ) : (\n        /* Instructor Attendance Management */\n        <div className=\"space-y-6\">\n          {/* Course Selection and Mark Attendance */}\n          <div className=\"card\">\n            <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">Mark Attendance</h2>\n            \n            <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Course</label>\n                <select\n                  value={selectedCourse}\n                  onChange={(e) => setSelectedCourse(e.target.value)}\n                  className=\"input\"\n                >\n                  <option value=\"\">Select Course</option>\n                  {courses.map(course => (\n                    <option key={course._id} value={course._id}>\n                      {course.title} ({course.courseCode})\n                    </option>\n                  ))}\n                </select>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Date</label>\n                <input\n                  type=\"date\"\n                  value={selectedDate}\n                  onChange={(e) => setSelectedDate(e.target.value)}\n                  className=\"input\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Class Type</label>\n                <select\n                  value={attendanceForm.classType}\n                  onChange={(e) => setAttendanceForm(prev => ({ ...prev, classType: e.target.value }))}\n                  className=\"input\"\n                >\n                  <option value=\"lecture\">Lecture</option>\n                  <option value=\"lab\">Lab</option>\n                  <option value=\"tutorial\">Tutorial</option>\n                  <option value=\"exam\">Exam</option>\n                  <option value=\"other\">Other</option>\n                </select>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Duration (min)</label>\n                <input\n                  type=\"number\"\n                  value={attendanceForm.duration}\n                  onChange={(e) => setAttendanceForm(prev => ({ ...prev, duration: parseInt(e.target.value) }))}\n                  className=\"input\"\n                />\n              </div>\n            </div>\n\n            <div className=\"mb-6\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Topic</label>\n              <input\n                type=\"text\"\n                value={attendanceForm.topic}\n                onChange={(e) => setAttendanceForm(prev => ({ ...prev, topic: e.target.value }))}\n                className=\"input\"\n                placeholder=\"Today's topic or lesson\"\n              />\n            </div>\n\n            {/* Student List */}\n            {attendanceForm.students.length > 0 && (\n              <div>\n                <h3 className=\"font-medium text-gray-900 mb-3\">Students</h3>\n                <div className=\"space-y-2 mb-6\">\n                  {attendanceForm.students.map((student) => (\n                    <div key={student.student} className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\">\n                      <span className=\"font-medium text-gray-900\">{student.name}</span>\n                      <div className=\"flex space-x-2\">\n                        {['present', 'absent', 'late', 'excused'].map((status) => (\n                          <label key={status} className=\"flex items-center\">\n                            <input\n                              type=\"radio\"\n                              name={`student-${student.student}`}\n                              value={status}\n                              checked={student.status === status}\n                              onChange={(e) => handleStudentStatusChange(student.student, e.target.value)}\n                              className=\"mr-1\"\n                            />\n                            <span className=\"text-sm capitalize\">{status}</span>\n                          </label>\n                        ))}\n                      </div>\n                    </div>\n                  ))}\n                </div>\n\n                <button\n                  onClick={markAttendance}\n                  disabled={markingAttendance || !selectedCourse || !selectedDate}\n                  className=\"btn btn-primary disabled:opacity-50\"\n                >\n                  {markingAttendance ? 'Marking...' : 'Mark Attendance'}\n                </button>\n              </div>\n            )}\n          </div>\n\n          {/* Attendance History */}\n          {selectedCourse && attendanceData.length > 0 && (\n            <div className=\"card\">\n              <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">Attendance History</h2>\n              \n              <div className=\"space-y-4\">\n                {attendanceData.map((record) => {\n                  const stats = record.getAttendanceStats ? record.getAttendanceStats() : {\n                    total: record.students?.length || 0,\n                    present: record.students?.filter(s => s.status === 'present').length || 0,\n                    absent: record.students?.filter(s => s.status === 'absent').length || 0,\n                    late: record.students?.filter(s => s.status === 'late').length || 0,\n                    excused: record.students?.filter(s => s.status === 'excused').length || 0\n                  };\n\n                  return (\n                    <div key={record._id} className=\"p-4 border rounded-lg\">\n                      <div className=\"flex items-center justify-between mb-3\">\n                        <div>\n                          <h3 className=\"font-medium text-gray-900\">\n                            {new Date(record.date).toLocaleDateString()}\n                          </h3>\n                          <p className=\"text-sm text-gray-600\">\n                            {record.topic || 'No topic specified'} â€¢ {record.classType}\n                          </p>\n                        </div>\n                        <div className=\"text-right\">\n                          <p className=\"font-semibold text-gray-900\">\n                            {((stats.present / stats.total) * 100).toFixed(1)}% present\n                          </p>\n                          <p className=\"text-sm text-gray-600\">\n                            {stats.present}/{stats.total} students\n                          </p>\n                        </div>\n                      </div>\n                      \n                      <div className=\"grid grid-cols-4 gap-4 text-sm\">\n                        <div className=\"text-center\">\n                          <p className=\"font-medium text-green-600\">{stats.present}</p>\n                          <p className=\"text-gray-600\">Present</p>\n                        </div>\n                        <div className=\"text-center\">\n                          <p className=\"font-medium text-red-600\">{stats.absent}</p>\n                          <p className=\"text-gray-600\">Absent</p>\n                        </div>\n                        <div className=\"text-center\">\n                          <p className=\"font-medium text-yellow-600\">{stats.late}</p>\n                          <p className=\"text-gray-600\">Late</p>\n                        </div>\n                        <div className=\"text-center\">\n                          <p className=\"font-medium text-blue-600\">{stats.excused}</p>\n                          <p className=\"text-gray-600\">Excused</p>\n                        </div>\n                      </div>\n                    </div>\n                  );\n                })}\n              </div>\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default AttendanceView;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}