{"ast":null,"code":"import _objectSpread from\"C:/Users/Alikhan/Desktop/TeachI MVP/TeachI/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useState,useEffect}from'react';import{useAuth}from'../../context/AuthContext';import{Bars3Icon,BellIcon,UserCircleIcon}from'@heroicons/react/24/outline';import{Menu,Transition}from'@headlessui/react';import{Fragment}from'react';import{Link,useNavigate}from'react-router-dom';import axios from'axios';import{toast}from'react-toastify';import{formatDate}from'../../utils/dateUtils';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Header=_ref=>{let{onMenuClick}=_ref;const{user,logout}=useAuth();const navigate=useNavigate();const[notifications,setNotifications]=useState([]);const[unreadCount,setUnreadCount]=useState(0);useEffect(()=>{fetchNotifications();},[]);const fetchNotifications=async()=>{try{const response=await axios.get('/api/notifications');setNotifications(response.data.notifications);setUnreadCount(response.data.unreadCount);}catch(error){console.error('Error fetching notifications:',error);}};const markAllAsRead=async()=>{try{await axios.put('/api/notifications/mark-all-read');setUnreadCount(0);setNotifications(notifications.map(n=>_objectSpread(_objectSpread({},n),{},{isRead:true})));toast.success('All notifications marked as read');}catch(error){console.error('Error marking notifications as read:',error);toast.error('Failed to mark notifications as read');}};const markAsRead=async notificationId=>{try{await axios.put(\"/api/notifications/\".concat(notificationId,\"/read\"));setNotifications(notifications.map(n=>n._id===notificationId?_objectSpread(_objectSpread({},n),{},{isRead:true}):n));setUnreadCount(Math.max(0,unreadCount-1));}catch(error){console.error('Error marking notification as read:',error);}};const handleNotificationClick=async notification=>{// Mark as read first\nawait markAsRead(notification._id);// Navigate based on notification type and targetUrl/targetId\nswitch(notification.type){case'assignment':case'assignment_due':if(notification.targetId){navigate(\"/assignments/\".concat(notification.targetId));}else{navigate('/assignments');}break;case'grade':navigate('/grades');break;case'doc_verified':case'doc_rejected':if(notification.targetUrl){navigate(notification.targetUrl);}else{navigate('/upload-documents');}break;case'course_approved':case'course_rejected':navigate('/my-courses');break;case'user_approved':navigate('/dashboard');break;case'enrollment':navigate('/my-courses');break;case'payment':navigate('/profile');break;case'system':case'announcement':if(notification.targetUrl){navigate(notification.targetUrl);}else{navigate('/dashboard');}break;default:// If targetUrl is provided, use it\nif(notification.targetUrl){navigate(notification.targetUrl);}else{// Fallback to dashboard\nnavigate('/dashboard');}break;}};return/*#__PURE__*/_jsx(\"header\",{className:\"bg-white shadow-sm border-b border-gray-200\",children:/*#__PURE__*/_jsx(\"div\",{className:\"px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between h-16\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"lg:hidden p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary-500\",onClick:onMenuClick,children:/*#__PURE__*/_jsx(Bars3Icon,{className:\"h-6 w-6\"})}),/*#__PURE__*/_jsx(\"h1\",{className:\"ml-4 text-xl font-semibold text-gray-900\",children:\"Dashboard\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(Menu,{as:\"div\",className:\"relative\",children:[/*#__PURE__*/_jsxs(Menu.Button,{className:\"p-2 text-gray-400 hover:text-gray-500 relative\",children:[/*#__PURE__*/_jsx(BellIcon,{className:\"h-6 w-6\"}),unreadCount>0&&/*#__PURE__*/_jsx(\"span\",{className:\"absolute -top-1 -right-1 h-5 w-5 rounded-full bg-red-500 text-white text-xs flex items-center justify-center\",children:unreadCount>9?'9+':unreadCount})]}),/*#__PURE__*/_jsx(Transition,{as:Fragment,enter:\"transition ease-out duration-100\",enterFrom:\"transform opacity-0 scale-95\",enterTo:\"transform opacity-100 scale-100\",leave:\"transition ease-in duration-75\",leaveFrom:\"transform opacity-100 scale-100\",leaveTo:\"transform opacity-0 scale-95\",children:/*#__PURE__*/_jsxs(Menu.Items,{className:\"absolute right-0 mt-2 w-80 bg-white rounded-md shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none z-50\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-4 border-b border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium\",children:\"Notifications\"}),unreadCount>0&&/*#__PURE__*/_jsx(\"button\",{onClick:markAllAsRead,className:\"text-sm text-primary-600 hover:text-primary-500\",children:\"Mark all as read\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"max-h-96 overflow-y-auto\",children:notifications.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"p-4 text-center text-gray-500\",children:\"No notifications\"}):notifications.slice(0,5).map(notification=>/*#__PURE__*/_jsx(Menu.Item,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 hover:bg-gray-50 cursor-pointer \".concat(!notification.isRead?'bg-blue-50':''),onClick:()=>handleNotificationClick(notification),children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-900\",children:notification.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mt-1\",children:notification.message}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-400 mt-2\",children:formatDate(notification.createdAt)})]})},notification._id))})]})})]}),/*#__PURE__*/_jsxs(Menu,{as:\"div\",className:\"relative\",children:[/*#__PURE__*/_jsxs(Menu.Button,{className:\"flex items-center space-x-2 p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100\",children:[/*#__PURE__*/_jsx(UserCircleIcon,{className:\"h-6 w-6\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm font-medium text-gray-700\",children:[user===null||user===void 0?void 0:user.firstName,\" \",user===null||user===void 0?void 0:user.lastName]})]}),/*#__PURE__*/_jsx(Transition,{as:Fragment,enter:\"transition ease-out duration-100\",enterFrom:\"transform opacity-0 scale-95\",enterTo:\"transform opacity-100 scale-100\",leave:\"transition ease-in duration-75\",leaveFrom:\"transform opacity-100 scale-100\",leaveTo:\"transform opacity-0 scale-95\",children:/*#__PURE__*/_jsx(Menu.Items,{className:\"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"py-1\",children:[/*#__PURE__*/_jsx(Menu.Item,{children:_ref2=>{let{active}=_ref2;return/*#__PURE__*/_jsx(Link,{to:\"/profile\",className:\"\".concat(active?'bg-gray-100':'',\" block px-4 py-2 text-sm text-gray-700\"),children:\"Your Profile\"});}}),/*#__PURE__*/_jsx(Menu.Item,{children:_ref3=>{let{active}=_ref3;return/*#__PURE__*/_jsx(\"button\",{onClick:logout,className:\"\".concat(active?'bg-gray-100':'',\" block w-full text-left px-4 py-2 text-sm text-gray-700\"),children:\"Sign out\"});}})]})})})]})]})]})})});};export default Header;","map":{"version":3,"names":["useState","useEffect","useAuth","Bars3Icon","BellIcon","UserCircleIcon","Menu","Transition","Fragment","Link","useNavigate","axios","toast","formatDate","jsx","_jsx","jsxs","_jsxs","Header","_ref","onMenuClick","user","logout","navigate","notifications","setNotifications","unreadCount","setUnreadCount","fetchNotifications","response","get","data","error","console","markAllAsRead","put","map","n","_objectSpread","isRead","success","markAsRead","notificationId","concat","_id","Math","max","handleNotificationClick","notification","type","targetId","targetUrl","className","children","onClick","as","Button","enter","enterFrom","enterTo","leave","leaveFrom","leaveTo","Items","length","slice","Item","title","message","createdAt","firstName","lastName","_ref2","active","to","_ref3"],"sources":["C:/Users/Alikhan/Desktop/TeachI MVP/TeachI/frontend/src/components/Layout/Header.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { useAuth } from '../../context/AuthContext';\nimport { \n  Bars3Icon, \n  BellIcon, \n  UserCircleIcon \n} from '@heroicons/react/24/outline';\nimport { Menu, Transition } from '@headlessui/react';\nimport { Fragment } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { toast } from 'react-toastify';\nimport { formatDate } from '../../utils/dateUtils';\n\nconst Header = ({ onMenuClick }) => {\n  const { user, logout } = useAuth();\n  const navigate = useNavigate();\n  const [notifications, setNotifications] = useState([]);\n  const [unreadCount, setUnreadCount] = useState(0);\n\n  useEffect(() => {\n    fetchNotifications();\n  }, []);\n\n  const fetchNotifications = async () => {\n    try {\n      const response = await axios.get('/api/notifications');\n      setNotifications(response.data.notifications);\n      setUnreadCount(response.data.unreadCount);\n    } catch (error) {\n      console.error('Error fetching notifications:', error);\n    }\n  };\n\n  const markAllAsRead = async () => {\n    try {\n      await axios.put('/api/notifications/mark-all-read');\n      setUnreadCount(0);\n      setNotifications(notifications.map(n => ({ ...n, isRead: true })));\n      toast.success('All notifications marked as read');\n    } catch (error) {\n      console.error('Error marking notifications as read:', error);\n      toast.error('Failed to mark notifications as read');\n    }\n  };\n\n  const markAsRead = async (notificationId) => {\n    try {\n      await axios.put(`/api/notifications/${notificationId}/read`);\n      setNotifications(notifications.map(n => \n        n._id === notificationId ? { ...n, isRead: true } : n\n      ));\n      setUnreadCount(Math.max(0, unreadCount - 1));\n    } catch (error) {\n      console.error('Error marking notification as read:', error);\n    }\n  };\n\n  const handleNotificationClick = async (notification) => {\n    // Mark as read first\n    await markAsRead(notification._id);\n    \n    // Navigate based on notification type and targetUrl/targetId\n    switch (notification.type) {\n      case 'assignment':\n      case 'assignment_due':\n        if (notification.targetId) {\n          navigate(`/assignments/${notification.targetId}`);\n        } else {\n          navigate('/assignments');\n        }\n        break;\n      \n      case 'grade':\n        navigate('/grades');\n        break;\n      \n      case 'doc_verified':\n      case 'doc_rejected':\n        if (notification.targetUrl) {\n          navigate(notification.targetUrl);\n        } else {\n          navigate('/upload-documents');\n        }\n        break;\n      \n      case 'course_approved':\n      case 'course_rejected':\n        navigate('/my-courses');\n        break;\n      \n      case 'user_approved':\n        navigate('/dashboard');\n        break;\n      \n      case 'enrollment':\n        navigate('/my-courses');\n        break;\n      \n      case 'payment':\n        navigate('/profile');\n        break;\n      \n      case 'system':\n      case 'announcement':\n        if (notification.targetUrl) {\n          navigate(notification.targetUrl);\n        } else {\n          navigate('/dashboard');\n        }\n        break;\n      \n      default:\n        // If targetUrl is provided, use it\n        if (notification.targetUrl) {\n          navigate(notification.targetUrl);\n        } else {\n          // Fallback to dashboard\n          navigate('/dashboard');\n        }\n        break;\n    }\n  };\n\n  return (\n    <header className=\"bg-white shadow-sm border-b border-gray-200\">\n      <div className=\"px-4 sm:px-6 lg:px-8\">\n        <div className=\"flex justify-between h-16\">\n          <div className=\"flex items-center\">\n            <button\n              type=\"button\"\n              className=\"lg:hidden p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary-500\"\n              onClick={onMenuClick}\n            >\n              <Bars3Icon className=\"h-6 w-6\" />\n            </button>\n            \n            <h1 className=\"ml-4 text-xl font-semibold text-gray-900\">\n              Dashboard\n            </h1>\n          </div>\n\n          <div className=\"flex items-center space-x-4\">\n            {/* Notifications */}\n            <Menu as=\"div\" className=\"relative\">\n              <Menu.Button className=\"p-2 text-gray-400 hover:text-gray-500 relative\">\n                <BellIcon className=\"h-6 w-6\" />\n                {unreadCount > 0 && (\n                  <span className=\"absolute -top-1 -right-1 h-5 w-5 rounded-full bg-red-500 text-white text-xs flex items-center justify-center\">\n                    {unreadCount > 9 ? '9+' : unreadCount}\n                  </span>\n                )}\n              </Menu.Button>\n              \n              <Transition\n                as={Fragment}\n                enter=\"transition ease-out duration-100\"\n                enterFrom=\"transform opacity-0 scale-95\"\n                enterTo=\"transform opacity-100 scale-100\"\n                leave=\"transition ease-in duration-75\"\n                leaveFrom=\"transform opacity-100 scale-100\"\n                leaveTo=\"transform opacity-0 scale-95\"\n              >\n                <Menu.Items className=\"absolute right-0 mt-2 w-80 bg-white rounded-md shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none z-50\">\n                  <div className=\"p-4 border-b border-gray-200\">\n                    <div className=\"flex justify-between items-center\">\n                      <h3 className=\"text-lg font-medium\">Notifications</h3>\n                      {unreadCount > 0 && (\n                        <button\n                          onClick={markAllAsRead}\n                          className=\"text-sm text-primary-600 hover:text-primary-500\"\n                        >\n                          Mark all as read\n                        </button>\n                      )}\n                    </div>\n                  </div>\n                  \n                  <div className=\"max-h-96 overflow-y-auto\">\n                    {notifications.length === 0 ? (\n                      <div className=\"p-4 text-center text-gray-500\">\n                        No notifications\n                      </div>\n                    ) : (\n                      notifications.slice(0, 5).map((notification) => (\n                        <Menu.Item key={notification._id}>\n                          <div \n                            className={`p-4 hover:bg-gray-50 cursor-pointer ${!notification.isRead ? 'bg-blue-50' : ''}`}\n                            onClick={() => handleNotificationClick(notification)}\n                          >\n                            <p className=\"text-sm font-medium text-gray-900\">\n                              {notification.title}\n                            </p>\n                            <p className=\"text-sm text-gray-600 mt-1\">\n                              {notification.message}\n                            </p>\n                            <p className=\"text-xs text-gray-400 mt-2\">\n                              {formatDate(notification.createdAt)}\n                            </p>\n                          </div>\n                        </Menu.Item>\n                      ))\n                    )}\n                  </div>\n                </Menu.Items>\n              </Transition>\n            </Menu>\n\n            {/* User Menu */}\n            <Menu as=\"div\" className=\"relative\">\n              <Menu.Button className=\"flex items-center space-x-2 p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100\">\n                <UserCircleIcon className=\"h-6 w-6\" />\n                <span className=\"text-sm font-medium text-gray-700\">\n                  {user?.firstName} {user?.lastName}\n                </span>\n              </Menu.Button>\n              \n              <Transition\n                as={Fragment}\n                enter=\"transition ease-out duration-100\"\n                enterFrom=\"transform opacity-0 scale-95\"\n                enterTo=\"transform opacity-100 scale-100\"\n                leave=\"transition ease-in duration-75\"\n                leaveFrom=\"transform opacity-100 scale-100\"\n                leaveTo=\"transform opacity-0 scale-95\"\n              >\n                <Menu.Items className=\"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none z-50\">\n                  <div className=\"py-1\">\n                    <Menu.Item>\n                      {({ active }) => (\n                        <Link\n                          to=\"/profile\"\n                          className={`${\n                            active ? 'bg-gray-100' : ''\n                          } block px-4 py-2 text-sm text-gray-700`}\n                        >\n                          Your Profile\n                        </Link>\n                      )}\n                    </Menu.Item>\n                    <Menu.Item>\n                      {({ active }) => (\n                        <button\n                          onClick={logout}\n                          className={`${\n                            active ? 'bg-gray-100' : ''\n                          } block w-full text-left px-4 py-2 text-sm text-gray-700`}\n                        >\n                          Sign out\n                        </button>\n                      )}\n                    </Menu.Item>\n                  </div>\n                </Menu.Items>\n              </Transition>\n            </Menu>\n          </div>\n        </div>\n      </div>\n    </header>\n  );\n};\n\nexport default Header;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}