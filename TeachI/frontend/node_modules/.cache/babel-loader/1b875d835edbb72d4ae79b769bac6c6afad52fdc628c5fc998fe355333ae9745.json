{"ast":null,"code":"import _objectSpread from\"C:/Users/Alikhan/Desktop/TeachI MVP/TeachI/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useState}from'react';import{useNavigate}from'react-router-dom';import axios from'axios';import{PlusIcon,TrashIcon,DocumentIcon,LockClosedIcon,LockOpenIcon,CloudArrowUpIcon}from'@heroicons/react/24/outline';import toast from'react-hot-toast';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CreateCourse=()=>{const navigate=useNavigate();const[loading,setLoading]=useState(false);const[formData,setFormData]=useState({title:'',description:'',courseCode:'',credits:3,maxStudents:30,fees:0,category:'',level:'Beginner',prerequisites:[''],materials:[]});const[uploadingFiles,setUploadingFiles]=useState([]);const categories=['Computer Science','Mathematics','Physics','Chemistry','Biology','English','History','Arts','Business','Other'];const handleChange=e=>{const{name,value,type,checked}=e.target;setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:type==='number'?parseInt(value)||0:value}));};const handlePrerequisiteChange=(index,value)=>{const newPrerequisites=[...formData.prerequisites];newPrerequisites[index]=value;setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{prerequisites:newPrerequisites}));};const addPrerequisite=()=>{setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{prerequisites:[...prev.prerequisites,'']}));};const removePrerequisite=index=>{const newPrerequisites=formData.prerequisites.filter((_,i)=>i!==index);setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{prerequisites:newPrerequisites}));};// Material handling functions\nconst addMaterial=()=>{setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{materials:[...prev.materials,{title:'',type:'document',description:'',isFree:false,file:null,url:''}]}));};const removeMaterial=index=>{const newMaterials=formData.materials.filter((_,i)=>i!==index);setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{materials:newMaterials}));};const updateMaterial=(index,field,value)=>{const newMaterials=[...formData.materials];newMaterials[index]=_objectSpread(_objectSpread({},newMaterials[index]),{},{[field]:value});setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{materials:newMaterials}));// Log the update for debugging\nconsole.log(\"Updated material \".concat(index,\" field \").concat(field,\" to:\"),value);console.log('Full material after update:',newMaterials[index]);};const handleFileUpload=async(index,file)=>{if(!file)return;// Validate file size (max 100MB)\nif(file.size>100*1024*1024){toast.error('File size must be less than 100MB');return;}try{setUploadingFiles(prev=>[...prev,index]);const uploadFormData=new FormData();uploadFormData.append('file',file);uploadFormData.append('type','course-material');console.log('Uploading file:',file.name,'for material index:',index);const response=await axios.post('/api/upload',uploadFormData,{headers:{'Content-Type':'multipart/form-data'}});console.log('Full upload response:',response.data);console.log('Response URL field:',response.data.url);console.log('Response filePath field:',response.data.filePath);// Update material with the uploaded file URL\nconst fileUrl=response.data.url||response.data.filePath;console.log('Using URL:',fileUrl);// Update material with all the file information at once\nconst updates={url:fileUrl,filename:response.data.filename};// Auto-fill title if empty\nif(!formData.materials[index].title){updates.title=file.name.split('.')[0];}// Apply all updates at once\nconst newMaterials=[...formData.materials];newMaterials[index]=_objectSpread(_objectSpread({},newMaterials[index]),updates);setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{materials:newMaterials}));console.log('Material updated with all data:',newMaterials[index]);// Wait a moment and check if the state was updated\nsetTimeout(()=>{var _formData$materials$i;console.log('State check after upload - material',index+1,':',formData.materials[index]);console.log('URL in state:',(_formData$materials$i=formData.materials[index])===null||_formData$materials$i===void 0?void 0:_formData$materials$i.url);},100);toast.success('File uploaded successfully');console.log('Material should now have URL:',fileUrl);}catch(error){var _error$response,_error$response$data;console.error('Upload error:',error);toast.error(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||'Failed to upload file');}finally{setUploadingFiles(prev=>prev.filter(i=>i!==index));}};const handleSubmit=async e=>{e.preventDefault();setLoading(true);try{// Validate materials - they must have files uploaded\nfor(let i=0;i<formData.materials.length;i++){const material=formData.materials[i];console.log(\"Validating material \".concat(i+1,\":\"),material);if(!material.title.trim()){toast.error(\"Material \".concat(i+1,\": Title is required\"));setLoading(false);return;}if(material.type==='link'){if(!material.url.trim()){toast.error(\"Material \".concat(i+1,\": URL is required for link type\"));setLoading(false);return;}}else{// For file materials, upload is required\nif(!material.url){console.log(\"Material \".concat(i+1,\" missing URL:\"),material.url);toast.error(\"Material \".concat(i+1,\": Please upload a file\"));setLoading(false);return;}// Check if file is still uploading\nif(uploadingFiles.includes(i)){toast.error(\"Material \".concat(i+1,\": File is still uploading, please wait\"));setLoading(false);return;}}}// Clean up prerequisites and prepare materials\nconst cleanedData=_objectSpread(_objectSpread({},formData),{},{prerequisites:formData.prerequisites.filter(p=>p.trim()!==''),materials:formData.materials.map(material=>({title:material.title,type:material.type,url:material.url,filename:material.filename||'',description:material.description||'',isFree:material.isFree}))});const response=await axios.post('/api/courses',cleanedData);toast.success('Course created successfully! Pending admin approval.');navigate(\"/courses/\".concat(response.data.course._id));}catch(error){var _error$response2,_error$response2$data;toast.error(((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.message)||'Failed to create course');}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl mx-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900\",children:\"Create New Course\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-gray-600\",children:\"Fill in the details below to create a new course\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"Basic Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Course Title *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"title\",required:true,value:formData.title,onChange:handleChange,className:\"input\",placeholder:\"Introduction to Computer Science\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Course Code *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"courseCode\",required:true,value:formData.courseCode,onChange:handleChange,className:\"input\",placeholder:\"CS101\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Category *\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"category\",required:true,value:formData.category,onChange:handleChange,className:\"input\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Category\"}),categories.map(category=>/*#__PURE__*/_jsx(\"option\",{value:category,children:category},category))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Level *\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"level\",required:true,value:formData.level,onChange:handleChange,className:\"input\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"Beginner\",children:\"Beginner\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Intermediate\",children:\"Intermediate\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Advanced\",children:\"Advanced\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Credits *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"credits\",required:true,min:\"1\",max:\"10\",value:formData.credits,onChange:handleChange,className:\"input\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Max Students *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"maxStudents\",required:true,min:\"1\",value:formData.maxStudents,onChange:handleChange,className:\"input\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Course Fees ($) *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"fees\",required:true,min:\"0\",value:formData.fees,onChange:handleChange,className:\"input\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Description *\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"description\",required:true,rows:4,value:formData.description,onChange:handleChange,className:\"input\",placeholder:\"Describe what students will learn in this course...\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-gray-900\",children:\"Prerequisites\"}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:addPrerequisite,className:\"btn btn-secondary btn-sm flex items-center\",children:[/*#__PURE__*/_jsx(PlusIcon,{className:\"h-4 w-4 mr-1\"}),\"Add\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:formData.prerequisites.map((prereq,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:prereq,onChange:e=>handlePrerequisiteChange(index,e.target.value),className:\"input flex-1\",placeholder:\"Enter prerequisite\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>removePrerequisite(index),className:\"btn btn-danger btn-sm\",children:/*#__PURE__*/_jsx(TrashIcon,{className:\"h-4 w-4\"})})]},index))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-gray-900\",children:\"Course Materials\"}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:addMaterial,className:\"btn btn-secondary btn-sm flex items-center\",children:[/*#__PURE__*/_jsx(PlusIcon,{className:\"h-4 w-4 mr-1\"}),\"Add Material\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[formData.materials.map((material,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"border border-gray-200 rounded-lg p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-md font-medium text-gray-900\",children:[\"Material \",index+1]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>removeMaterial(index),className:\"btn btn-danger btn-sm\",children:/*#__PURE__*/_jsx(TrashIcon,{className:\"h-4 w-4\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Title *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:material.title,onChange:e=>updateMaterial(index,'title',e.target.value),className:\"input\",placeholder:\"Material title\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Type *\"}),/*#__PURE__*/_jsxs(\"select\",{value:material.type,onChange:e=>updateMaterial(index,'type',e.target.value),className:\"input\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"document\",children:\"Document/PDF\"}),/*#__PURE__*/_jsx(\"option\",{value:\"video\",children:\"Video\"}),/*#__PURE__*/_jsx(\"option\",{value:\"note\",children:\"Study Notes\"}),/*#__PURE__*/_jsx(\"option\",{value:\"link\",children:\"External Link\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{value:material.description,onChange:e=>updateMaterial(index,'description',e.target.value),className:\"input\",rows:\"2\",placeholder:\"Brief description of the material\"})]}),material.type==='link'?/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"URL *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"url\",value:material.url,onChange:e=>updateMaterial(index,'url',e.target.value),className:\"input\",placeholder:\"https://example.com\",required:true})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Upload File *\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md hover:border-gray-400 transition-colors\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-1 text-center\",children:[/*#__PURE__*/_jsx(CloudArrowUpIcon,{className:\"mx-auto h-12 w-12 text-gray-400\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex text-sm text-gray-600\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"relative cursor-pointer bg-white rounded-md font-medium text-indigo-600 hover:text-indigo-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Upload a file\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",className:\"sr-only\",accept:material.type==='video'?'video/*':'.pdf,.doc,.docx,.txt,.png,.jpg,.jpeg',onChange:e=>{const file=e.target.files[0];if(file){updateMaterial(index,'file',file);handleFileUpload(index,file);}}})]}),/*#__PURE__*/_jsx(\"p\",{className:\"pl-1\",children:\"or drag and drop\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:material.type==='video'?'Video files up to 100MB':'PDF, DOC, TXT, Images up to 100MB'}),uploadingFiles.includes(index)&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-blue-600\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin inline-block w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full mr-2\"}),\"Uploading...\"]}),material.url&&/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-green-600 font-medium\",children:\"\\u2713 File uploaded successfully\"}),!material.url&&!uploadingFiles.includes(index)&&/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-red-500\",children:\"\\u26A0\\uFE0F File upload required\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Access Control\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-6\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"material-\".concat(index,\"-access\"),checked:!material.isFree,onChange:()=>updateMaterial(index,'isFree',false),className:\"h-4 w-4 text-indigo-600\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"ml-2 text-sm text-gray-700 flex items-center\",children:[/*#__PURE__*/_jsx(LockClosedIcon,{className:\"h-4 w-4 mr-1\"}),\"Premium (Enrolled students only)\"]})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"material-\".concat(index,\"-access\"),checked:material.isFree,onChange:()=>updateMaterial(index,'isFree',true),className:\"h-4 w-4 text-indigo-600\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"ml-2 text-sm text-gray-700 flex items-center\",children:[/*#__PURE__*/_jsx(LockOpenIcon,{className:\"h-4 w-4 mr-1\"}),\"Free (Available to everyone)\"]})]})]})]})]})]},index)),formData.materials.length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8 text-gray-500\",children:[/*#__PURE__*/_jsx(DocumentIcon,{className:\"mx-auto h-12 w-12 text-gray-400 mb-4\"}),/*#__PURE__*/_jsx(\"p\",{children:\"No materials added yet. Click \\\"Add Material\\\" to get started.\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm mt-2\",children:\"Materials must have files uploaded to be included in the course.\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>navigate('/courses'),className:\"btn btn-secondary\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,className:\"btn btn-primary disabled:opacity-50\",children:loading?'Creating...':'Create Course'})]})]})]});};export default CreateCourse;","map":{"version":3,"names":["useState","useNavigate","axios","PlusIcon","TrashIcon","DocumentIcon","LockClosedIcon","LockOpenIcon","CloudArrowUpIcon","toast","jsx","_jsx","jsxs","_jsxs","CreateCourse","navigate","loading","setLoading","formData","setFormData","title","description","courseCode","credits","maxStudents","fees","category","level","prerequisites","materials","uploadingFiles","setUploadingFiles","categories","handleChange","e","name","value","type","checked","target","prev","_objectSpread","parseInt","handlePrerequisiteChange","index","newPrerequisites","addPrerequisite","removePrerequisite","filter","_","i","addMaterial","isFree","file","url","removeMaterial","newMaterials","updateMaterial","field","console","log","concat","handleFileUpload","size","error","uploadFormData","FormData","append","response","post","headers","data","filePath","fileUrl","updates","filename","split","setTimeout","_formData$materials$i","success","_error$response","_error$response$data","message","handleSubmit","preventDefault","length","material","trim","includes","cleanedData","p","map","course","_id","_error$response2","_error$response2$data","className","children","onSubmit","required","onChange","placeholder","min","max","rows","onClick","prereq","accept","files","disabled"],"sources":["C:/Users/Alikhan/Desktop/TeachI MVP/TeachI/frontend/src/components/Courses/CreateCourse.js"],"sourcesContent":["import { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { \n  PlusIcon, \n  TrashIcon, \n  DocumentIcon,\n  LockClosedIcon,\n  LockOpenIcon,\n  CloudArrowUpIcon\n} from '@heroicons/react/24/outline';\nimport toast from 'react-hot-toast';\n\nconst CreateCourse = () => {\n  const navigate = useNavigate();\n  const [loading, setLoading] = useState(false);\n  const [formData, setFormData] = useState({\n    title: '',\n    description: '',\n    courseCode: '',\n    credits: 3,\n    maxStudents: 30,\n    fees: 0,\n    category: '',\n    level: 'Beginner',\n    prerequisites: [''],\n    materials: []\n  });\n\n  const [uploadingFiles, setUploadingFiles] = useState([]);\n\n  const categories = [\n    'Computer Science', 'Mathematics', 'Physics', 'Chemistry', \n    'Biology', 'English', 'History', 'Arts', 'Business', 'Other'\n  ];\n\n  const handleChange = (e) => {\n    const { name, value, type, checked } = e.target;\n    \n    setFormData(prev => ({\n      ...prev,\n      [name]: type === 'number' ? parseInt(value) || 0 : value\n    }));\n  };\n\n  const handlePrerequisiteChange = (index, value) => {\n    const newPrerequisites = [...formData.prerequisites];\n    newPrerequisites[index] = value;\n    setFormData(prev => ({ ...prev, prerequisites: newPrerequisites }));\n  };\n\n  const addPrerequisite = () => {\n    setFormData(prev => ({\n      ...prev,\n      prerequisites: [...prev.prerequisites, '']\n    }));\n  };\n\n  const removePrerequisite = (index) => {\n    const newPrerequisites = formData.prerequisites.filter((_, i) => i !== index);\n    setFormData(prev => ({ ...prev, prerequisites: newPrerequisites }));\n  };\n\n  // Material handling functions\n  const addMaterial = () => {\n    setFormData(prev => ({\n      ...prev,\n      materials: [...prev.materials, {\n        title: '',\n        type: 'document',\n        description: '',\n        isFree: false,\n        file: null,\n        url: ''\n      }]\n    }));\n  };\n\n  const removeMaterial = (index) => {\n    const newMaterials = formData.materials.filter((_, i) => i !== index);\n    setFormData(prev => ({ ...prev, materials: newMaterials }));\n  };\n\n  const updateMaterial = (index, field, value) => {\n    const newMaterials = [...formData.materials];\n    newMaterials[index] = { ...newMaterials[index], [field]: value };\n    setFormData(prev => ({ ...prev, materials: newMaterials }));\n    \n    // Log the update for debugging\n    console.log(`Updated material ${index} field ${field} to:`, value);\n    console.log('Full material after update:', newMaterials[index]);\n  };\n\n  const handleFileUpload = async (index, file) => {\n    if (!file) return;\n    \n    // Validate file size (max 100MB)\n    if (file.size > 100 * 1024 * 1024) {\n      toast.error('File size must be less than 100MB');\n      return;\n    }\n\n    try {\n      setUploadingFiles(prev => [...prev, index]);\n      \n      const uploadFormData = new FormData();\n      uploadFormData.append('file', file);\n      uploadFormData.append('type', 'course-material');\n\n      console.log('Uploading file:', file.name, 'for material index:', index);\n\n      const response = await axios.post('/api/upload', uploadFormData, {\n        headers: { 'Content-Type': 'multipart/form-data' }\n      });\n\n      console.log('Full upload response:', response.data);\n      console.log('Response URL field:', response.data.url);\n      console.log('Response filePath field:', response.data.filePath);\n\n      // Update material with the uploaded file URL\n      const fileUrl = response.data.url || response.data.filePath;\n      console.log('Using URL:', fileUrl);\n      \n      // Update material with all the file information at once\n      const updates = {\n        url: fileUrl,\n        filename: response.data.filename\n      };\n      \n      // Auto-fill title if empty\n      if (!formData.materials[index].title) {\n        updates.title = file.name.split('.')[0];\n      }\n      \n      // Apply all updates at once\n      const newMaterials = [...formData.materials];\n      newMaterials[index] = { ...newMaterials[index], ...updates };\n      setFormData(prev => ({ ...prev, materials: newMaterials }));\n      \n      console.log('Material updated with all data:', newMaterials[index]);\n      \n      // Wait a moment and check if the state was updated\n      setTimeout(() => {\n        console.log('State check after upload - material', index + 1, ':', formData.materials[index]);\n        console.log('URL in state:', formData.materials[index]?.url);\n      }, 100);\n      \n      toast.success('File uploaded successfully');\n      console.log('Material should now have URL:', fileUrl);\n    } catch (error) {\n      console.error('Upload error:', error);\n      toast.error(error.response?.data?.message || 'Failed to upload file');\n    } finally {\n      setUploadingFiles(prev => prev.filter(i => i !== index));\n    }\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n\n    try {\n      // Validate materials - they must have files uploaded\n      for (let i = 0; i < formData.materials.length; i++) {\n        const material = formData.materials[i];\n        console.log(`Validating material ${i + 1}:`, material);\n        \n        if (!material.title.trim()) {\n          toast.error(`Material ${i + 1}: Title is required`);\n          setLoading(false);\n          return;\n        }\n        if (material.type === 'link') {\n          if (!material.url.trim()) {\n            toast.error(`Material ${i + 1}: URL is required for link type`);\n            setLoading(false);\n            return;\n          }\n        } else {\n          // For file materials, upload is required\n          if (!material.url) {\n            console.log(`Material ${i + 1} missing URL:`, material.url);\n            toast.error(`Material ${i + 1}: Please upload a file`);\n            setLoading(false);\n            return;\n          }\n          // Check if file is still uploading\n          if (uploadingFiles.includes(i)) {\n            toast.error(`Material ${i + 1}: File is still uploading, please wait`);\n            setLoading(false);\n            return;\n          }\n        }\n      }\n\n      // Clean up prerequisites and prepare materials\n      const cleanedData = {\n        ...formData,\n        prerequisites: formData.prerequisites.filter(p => p.trim() !== ''),\n        materials: formData.materials.map(material => ({\n          title: material.title,\n          type: material.type,\n          url: material.url,\n          filename: material.filename || '',\n          description: material.description || '',\n          isFree: material.isFree\n        }))\n      };\n\n      const response = await axios.post('/api/courses', cleanedData);\n      \n      toast.success('Course created successfully! Pending admin approval.');\n      \n      navigate(`/courses/${response.data.course._id}`);\n    } catch (error) {\n      toast.error(error.response?.data?.message || 'Failed to create course');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"max-w-4xl mx-auto\">\n      <div className=\"mb-6\">\n        <h1 className=\"text-2xl font-bold text-gray-900\">Create New Course</h1>\n        <p className=\"mt-2 text-gray-600\">\n          Fill in the details below to create a new course\n        </p>\n      </div>\n\n      <form onSubmit={handleSubmit} className=\"space-y-6\">\n        {/* Basic Information */}\n        <div className=\"card\">\n          <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">Basic Information</h2>\n          \n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Course Title *\n              </label>\n              <input\n                type=\"text\"\n                name=\"title\"\n                required\n                value={formData.title}\n                onChange={handleChange}\n                className=\"input\"\n                placeholder=\"Introduction to Computer Science\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Course Code *\n              </label>\n              <input\n                type=\"text\"\n                name=\"courseCode\"\n                required\n                value={formData.courseCode}\n                onChange={handleChange}\n                className=\"input\"\n                placeholder=\"CS101\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Category *\n              </label>\n              <select\n                name=\"category\"\n                required\n                value={formData.category}\n                onChange={handleChange}\n                className=\"input\"\n              >\n                <option value=\"\">Select Category</option>\n                {categories.map(category => (\n                  <option key={category} value={category}>{category}</option>\n                ))}\n              </select>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Level *\n              </label>\n              <select\n                name=\"level\"\n                required\n                value={formData.level}\n                onChange={handleChange}\n                className=\"input\"\n              >\n                <option value=\"Beginner\">Beginner</option>\n                <option value=\"Intermediate\">Intermediate</option>\n                <option value=\"Advanced\">Advanced</option>\n              </select>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Credits *\n              </label>\n              <input\n                type=\"number\"\n                name=\"credits\"\n                required\n                min=\"1\"\n                max=\"10\"\n                value={formData.credits}\n                onChange={handleChange}\n                className=\"input\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Max Students *\n              </label>\n              <input\n                type=\"number\"\n                name=\"maxStudents\"\n                required\n                min=\"1\"\n                value={formData.maxStudents}\n                onChange={handleChange}\n                className=\"input\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Course Fees ($) *\n              </label>\n              <input\n                type=\"number\"\n                name=\"fees\"\n                required\n                min=\"0\"\n                value={formData.fees}\n                onChange={handleChange}\n                className=\"input\"\n              />\n            </div>\n          </div>\n\n          <div className=\"mt-6\">\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Description *\n            </label>\n            <textarea\n              name=\"description\"\n              required\n              rows={4}\n              value={formData.description}\n              onChange={handleChange}\n              className=\"input\"\n              placeholder=\"Describe what students will learn in this course...\"\n            />\n          </div>\n        </div>\n\n        {/* Prerequisites */}\n        <div className=\"card\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <h2 className=\"text-lg font-semibold text-gray-900\">Prerequisites</h2>\n            <button\n              type=\"button\"\n              onClick={addPrerequisite}\n              className=\"btn btn-secondary btn-sm flex items-center\"\n            >\n              <PlusIcon className=\"h-4 w-4 mr-1\" />\n              Add\n            </button>\n          </div>\n          \n          <div className=\"space-y-3\">\n            {formData.prerequisites.map((prereq, index) => (\n              <div key={index} className=\"flex items-center space-x-3\">\n                <input\n                  type=\"text\"\n                  value={prereq}\n                  onChange={(e) => handlePrerequisiteChange(index, e.target.value)}\n                  className=\"input flex-1\"\n                  placeholder=\"Enter prerequisite\"\n                />\n                <button\n                  type=\"button\"\n                  onClick={() => removePrerequisite(index)}\n                  className=\"btn btn-danger btn-sm\"\n                >\n                  <TrashIcon className=\"h-4 w-4\" />\n                </button>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        {/* Course Materials */}\n        <div className=\"card\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <h2 className=\"text-lg font-semibold text-gray-900\">Course Materials</h2>\n              <button\n                type=\"button\"\n                onClick={addMaterial}\n                className=\"btn btn-secondary btn-sm flex items-center\"\n              >\n                <PlusIcon className=\"h-4 w-4 mr-1\" />\n                Add Material\n              </button>\n            </div>\n          \n          <div className=\"space-y-6\">\n            {formData.materials.map((material, index) => (\n              <div key={index} className=\"border border-gray-200 rounded-lg p-4\">\n                <div className=\"flex items-center justify-between mb-4\">\n                  <h3 className=\"text-md font-medium text-gray-900\">Material {index + 1}</h3>\n                  <button\n                    type=\"button\"\n                    onClick={() => removeMaterial(index)}\n                    className=\"btn btn-danger btn-sm\"\n                  >\n                    <TrashIcon className=\"h-4 w-4\" />\n                  </button>\n                </div>\n                \n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  {/* Title */}\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                      Title *\n                    </label>\n                    <input\n                      type=\"text\"\n                      value={material.title}\n                      onChange={(e) => updateMaterial(index, 'title', e.target.value)}\n                      className=\"input\"\n                      placeholder=\"Material title\"\n                      required\n                    />\n                  </div>\n\n                  {/* Type */}\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                      Type *\n                    </label>\n                    <select\n                      value={material.type}\n                      onChange={(e) => updateMaterial(index, 'type', e.target.value)}\n                      className=\"input\"\n                    >\n                      <option value=\"document\">Document/PDF</option>\n                      <option value=\"video\">Video</option>\n                      <option value=\"note\">Study Notes</option>\n                      <option value=\"link\">External Link</option>\n                    </select>\n                  </div>\n\n                  {/* Description */}\n                  <div className=\"md:col-span-2\">\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                      Description\n                    </label>\n                    <textarea\n                      value={material.description}\n                      onChange={(e) => updateMaterial(index, 'description', e.target.value)}\n                      className=\"input\"\n                      rows=\"2\"\n                      placeholder=\"Brief description of the material\"\n                    />\n                  </div>\n\n                  {/* File Upload / URL */}\n                  {material.type === 'link' ? (\n                    <div className=\"md:col-span-2\">\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                        URL *\n                      </label>\n                      <input\n                        type=\"url\"\n                        value={material.url}\n                        onChange={(e) => updateMaterial(index, 'url', e.target.value)}\n                        className=\"input\"\n                        placeholder=\"https://example.com\"\n                        required\n                      />\n                    </div>\n                  ) : (\n                    <div className=\"md:col-span-2\">\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                        Upload File *\n                      </label>\n                      <div className=\"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md hover:border-gray-400 transition-colors\">\n                        <div className=\"space-y-1 text-center\">\n                          <CloudArrowUpIcon className=\"mx-auto h-12 w-12 text-gray-400\" />\n                          <div className=\"flex text-sm text-gray-600\">\n                            <label className=\"relative cursor-pointer bg-white rounded-md font-medium text-indigo-600 hover:text-indigo-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500\">\n                              <span>Upload a file</span>\n                              <input\n                                type=\"file\"\n                                className=\"sr-only\"\n                                accept={material.type === 'video' ? 'video/*' : '.pdf,.doc,.docx,.txt,.png,.jpg,.jpeg'}\n                                onChange={(e) => {\n                                  const file = e.target.files[0];\n                                  if (file) {\n                                    updateMaterial(index, 'file', file);\n                                    handleFileUpload(index, file);\n                                  }\n                                }}\n                              />\n                            </label>\n                            <p className=\"pl-1\">or drag and drop</p>\n                          </div>\n                          <p className=\"text-xs text-gray-500\">\n                            {material.type === 'video' ? 'Video files up to 100MB' : 'PDF, DOC, TXT, Images up to 100MB'}\n                          </p>\n                          {uploadingFiles.includes(index) && (\n                            <div className=\"text-sm text-blue-600\">\n                              <div className=\"animate-spin inline-block w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full mr-2\"></div>\n                              Uploading...\n                            </div>\n                          )}\n                          {material.url && (\n                            <p className=\"text-sm text-green-600 font-medium\">✓ File uploaded successfully</p>\n                          )}\n                          {!material.url && !uploadingFiles.includes(index) && (\n                            <p className=\"text-sm text-red-500\">⚠️ File upload required</p>\n                          )}\n                        </div>\n                      </div>\n                    </div>\n                  )}\n\n                  {/* Access Control */}\n                  <div className=\"md:col-span-2\">\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                      Access Control\n                    </label>\n                    <div className=\"flex items-center space-x-6\">\n                      <label className=\"flex items-center\">\n                        <input\n                          type=\"radio\"\n                          name={`material-${index}-access`}\n                          checked={!material.isFree}\n                          onChange={() => updateMaterial(index, 'isFree', false)}\n                          className=\"h-4 w-4 text-indigo-600\"\n                        />\n                        <span className=\"ml-2 text-sm text-gray-700 flex items-center\">\n                          <LockClosedIcon className=\"h-4 w-4 mr-1\" />\n                          Premium (Enrolled students only)\n                        </span>\n                      </label>\n                      <label className=\"flex items-center\">\n                        <input\n                          type=\"radio\"\n                          name={`material-${index}-access`}\n                          checked={material.isFree}\n                          onChange={() => updateMaterial(index, 'isFree', true)}\n                          className=\"h-4 w-4 text-indigo-600\"\n                        />\n                        <span className=\"ml-2 text-sm text-gray-700 flex items-center\">\n                          <LockOpenIcon className=\"h-4 w-4 mr-1\" />\n                          Free (Available to everyone)\n                        </span>\n                      </label>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            ))}\n            \n            {formData.materials.length === 0 && (\n              <div className=\"text-center py-8 text-gray-500\">\n                <DocumentIcon className=\"mx-auto h-12 w-12 text-gray-400 mb-4\" />\n                <p>No materials added yet. Click \"Add Material\" to get started.</p>\n                <p className=\"text-sm mt-2\">Materials must have files uploaded to be included in the course.</p>\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Submit Button */}\n        <div className=\"flex justify-end space-x-4\">\n          <button\n            type=\"button\"\n            onClick={() => navigate('/courses')}\n            className=\"btn btn-secondary\"\n          >\n            Cancel\n          </button>\n          <button\n            type=\"submit\"\n            disabled={loading}\n            className=\"btn btn-primary disabled:opacity-50\"\n          >\n            {loading ? 'Creating...' : 'Create Course'}\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default CreateCourse;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}