{"ast":null,"code":"import{useState,useEffect}from'react';import{useAuth}from'../../context/AuthContext';import axios from'axios';import{ChartBarIcon,TrophyIcon,BookOpenIcon,CalendarIcon}from'@heroicons/react/24/outline';import LoadingSpinner from'../Common/LoadingSpinner';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const GradeView=()=>{const{user}=useAuth();const[grades,setGrades]=useState([]);const[courses,setCourses]=useState([]);const[selectedCourse,setSelectedCourse]=useState('');const[loading,setLoading]=useState(true);useEffect(()=>{if((user===null||user===void 0?void 0:user.role)==='student'){fetchStudentGrades();}else{fetchInstructorCourses();}},[]);useEffect(()=>{if(selectedCourse&&(user===null||user===void 0?void 0:user.role)!=='student'){fetchCourseGrades();}},[selectedCourse]);const fetchStudentGrades=async()=>{try{const response=await axios.get(\"/api/grades/student/\".concat(user._id));setGrades(response.data);}catch(error){console.error('Error fetching grades:',error);}finally{setLoading(false);}};const fetchInstructorCourses=async()=>{try{const response=await axios.get(\"/api/courses/instructor/\".concat(user._id));setCourses(response.data);if(response.data.length>0){setSelectedCourse(response.data[0]._id);}}catch(error){console.error('Error fetching courses:',error);}finally{setLoading(false);}};const fetchCourseGrades=async()=>{try{const response=await axios.get(\"/api/grades/course/\".concat(selectedCourse));setGrades(response.data);}catch(error){console.error('Error fetching course grades:',error);}};const calculateGPA=grades=>{if(grades.length===0)return 0;const totalPoints=grades.reduce((sum,grade)=>{var _grade$course;return sum+(grade.gpa||0)*(((_grade$course=grade.course)===null||_grade$course===void 0?void 0:_grade$course.credits)||0);},0);const totalCredits=grades.reduce((sum,grade)=>{var _grade$course2;return sum+(((_grade$course2=grade.course)===null||_grade$course2===void 0?void 0:_grade$course2.credits)||0);},0);return totalCredits>0?(totalPoints/totalCredits).toFixed(2):0;};const getGradeColor=percentage=>{if(percentage>=90)return'text-green-600 bg-green-100';if(percentage>=80)return'text-blue-600 bg-blue-100';if(percentage>=70)return'text-yellow-600 bg-yellow-100';return'text-red-600 bg-red-100';};if(loading){return/*#__PURE__*/_jsx(LoadingSpinner,{});}return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900\",children:\"Grades\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-gray-600\",children:(user===null||user===void 0?void 0:user.role)==='student'?'View your academic performance and grades':'Manage and track student grades for your courses'})]}),(user===null||user===void 0?void 0:user.role)==='student'?/*#__PURE__*//* Student Grade View */_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(TrophyIcon,{className:\"h-8 w-8 text-yellow-500\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"Overall GPA\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-semibold text-gray-900\",children:calculateGPA(grades)})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(BookOpenIcon,{className:\"h-8 w-8 text-blue-500\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"Courses\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-semibold text-gray-900\",children:grades.length})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(ChartBarIcon,{className:\"h-8 w-8 text-green-500\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"Avg Grade\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-semibold text-gray-900\",children:grades.length>0?(grades.reduce((sum,g)=>sum+(g.percentage||0),0)/grades.length).toFixed(1)+'%':'N/A'})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(CalendarIcon,{className:\"h-8 w-8 text-purple-500\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"Credits\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-semibold text-gray-900\",children:grades.reduce((sum,grade)=>{var _grade$course3;return sum+(((_grade$course3=grade.course)===null||_grade$course3===void 0?void 0:_grade$course3.credits)||0);},0)})]})]})})]}),grades.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(ChartBarIcon,{className:\"h-12 w-12 text-gray-400 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-2\",children:\"No grades available\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Your grades will appear here once assignments are graded\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"Course Grades\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:grades.map(grade=>{var _grade$course4,_grade$course5;return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-4 border rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium text-gray-900\",children:((_grade$course4=grade.course)===null||_grade$course4===void 0?void 0:_grade$course4.title)||'Unknown Course'}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:((_grade$course5=grade.course)===null||_grade$course5===void 0?void 0:_grade$course5.courseCode)||'N/A'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"px-3 py-1 rounded-full text-sm font-medium \".concat(getGradeColor(grade.percentage||0)),children:grade.letterGrade||'N/A'}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600 mt-1\",children:[(grade.percentage||0).toFixed(1),\"%\"]})]})]},grade._id);})})]})]}):/*#__PURE__*//* Instructor Grade Management */_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-gray-900\",children:\"Course Grades\"}),/*#__PURE__*/_jsxs(\"select\",{value:selectedCourse,onChange:e=>setSelectedCourse(e.target.value),className:\"input max-w-xs\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Course\"}),courses.map(course=>/*#__PURE__*/_jsxs(\"option\",{value:course._id,children:[course.title,\" (\",course.courseCode,\")\"]},course._id))]})]})}),selectedCourse&&grades.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"Student Grades\"}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase\",children:\"Student\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase\",children:\"Grade\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase\",children:\"Percentage\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase\",children:\"Status\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:grades.map(grade=>{var _grade$student,_grade$student2,_grade$student3;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm font-medium text-gray-900\",children:[(_grade$student=grade.student)===null||_grade$student===void 0?void 0:_grade$student.firstName,\" \",(_grade$student2=grade.student)===null||_grade$student2===void 0?void 0:_grade$student2.lastName]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:(_grade$student3=grade.student)===null||_grade$student3===void 0?void 0:_grade$student3.email})]}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 rounded-full text-sm font-medium \".concat(getGradeColor(grade.percentage)),children:grade.letterGrade})}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:[grade.percentage.toFixed(1),\"%\"]}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 rounded-full text-xs \".concat(grade.isFinalized?'bg-green-100 text-green-800':'bg-yellow-100 text-yellow-800'),children:grade.isFinalized?'Finalized':'Draft'})})]},grade._id);})})]})})]}),selectedCourse&&grades.length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(ChartBarIcon,{className:\"h-12 w-12 text-gray-400 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-2\",children:\"No grades available\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Grades will appear here once assignments are graded\"})]})]})]});};export default GradeView;","map":{"version":3,"names":["useState","useEffect","useAuth","axios","ChartBarIcon","TrophyIcon","BookOpenIcon","CalendarIcon","LoadingSpinner","jsx","_jsx","jsxs","_jsxs","GradeView","user","grades","setGrades","courses","setCourses","selectedCourse","setSelectedCourse","loading","setLoading","role","fetchStudentGrades","fetchInstructorCourses","fetchCourseGrades","response","get","concat","_id","data","error","console","length","calculateGPA","totalPoints","reduce","sum","grade","_grade$course","gpa","course","credits","totalCredits","_grade$course2","toFixed","getGradeColor","percentage","className","children","g","_grade$course3","map","_grade$course4","_grade$course5","title","courseCode","letterGrade","value","onChange","e","target","_grade$student","_grade$student2","_grade$student3","student","firstName","lastName","email","isFinalized"],"sources":["C:/Users/Alikhan/Desktop/TeachI MVP/TeachI/frontend/src/components/Grades/GradeView.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { useAuth } from '../../context/AuthContext';\nimport axios from 'axios';\nimport { \n  ChartBarIcon,\n  TrophyIcon,\n  BookOpenIcon,\n  CalendarIcon\n} from '@heroicons/react/24/outline';\nimport LoadingSpinner from '../Common/LoadingSpinner';\n\nconst GradeView = () => {\n  const { user } = useAuth();\n  const [grades, setGrades] = useState([]);\n  const [courses, setCourses] = useState([]);\n  const [selectedCourse, setSelectedCourse] = useState('');\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    if (user?.role === 'student') {\n      fetchStudentGrades();\n    } else {\n      fetchInstructorCourses();\n    }\n  }, []);\n\n  useEffect(() => {\n    if (selectedCourse && user?.role !== 'student') {\n      fetchCourseGrades();\n    }\n  }, [selectedCourse]);\n\n  const fetchStudentGrades = async () => {\n    try {\n      const response = await axios.get(`/api/grades/student/${user._id}`);\n      setGrades(response.data);\n    } catch (error) {\n      console.error('Error fetching grades:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchInstructorCourses = async () => {\n    try {\n      const response = await axios.get(`/api/courses/instructor/${user._id}`);\n      setCourses(response.data);\n      if (response.data.length > 0) {\n        setSelectedCourse(response.data[0]._id);\n      }\n    } catch (error) {\n      console.error('Error fetching courses:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchCourseGrades = async () => {\n    try {\n      const response = await axios.get(`/api/grades/course/${selectedCourse}`);\n      setGrades(response.data);\n    } catch (error) {\n      console.error('Error fetching course grades:', error);\n    }\n  };\n\n  const calculateGPA = (grades) => {\n    if (grades.length === 0) return 0;\n    const totalPoints = grades.reduce((sum, grade) => sum + ((grade.gpa || 0) * (grade.course?.credits || 0)), 0);\n    const totalCredits = grades.reduce((sum, grade) => sum + (grade.course?.credits || 0), 0);\n    return totalCredits > 0 ? (totalPoints / totalCredits).toFixed(2) : 0;\n  };\n\n  const getGradeColor = (percentage) => {\n    if (percentage >= 90) return 'text-green-600 bg-green-100';\n    if (percentage >= 80) return 'text-blue-600 bg-blue-100';\n    if (percentage >= 70) return 'text-yellow-600 bg-yellow-100';\n    return 'text-red-600 bg-red-100';\n  };\n\n  if (loading) {\n    return <LoadingSpinner />;\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div>\n        <h1 className=\"text-2xl font-bold text-gray-900\">Grades</h1>\n        <p className=\"mt-2 text-gray-600\">\n          {user?.role === 'student' \n            ? 'View your academic performance and grades'\n            : 'Manage and track student grades for your courses'\n          }\n        </p>\n      </div>\n\n      {user?.role === 'student' ? (\n        /* Student Grade View */\n        <div className=\"space-y-6\">\n          {/* Summary Stats */}\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\n            <div className=\"card\">\n              <div className=\"flex items-center\">\n                <TrophyIcon className=\"h-8 w-8 text-yellow-500\" />\n                <div className=\"ml-4\">\n                  <p className=\"text-sm font-medium text-gray-600\">Overall GPA</p>\n                  <p className=\"text-2xl font-semibold text-gray-900\">{calculateGPA(grades)}</p>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"card\">\n              <div className=\"flex items-center\">\n                <BookOpenIcon className=\"h-8 w-8 text-blue-500\" />\n                <div className=\"ml-4\">\n                  <p className=\"text-sm font-medium text-gray-600\">Courses</p>\n                  <p className=\"text-2xl font-semibold text-gray-900\">{grades.length}</p>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"card\">\n              <div className=\"flex items-center\">\n                <ChartBarIcon className=\"h-8 w-8 text-green-500\" />\n                <div className=\"ml-4\">\n                  <p className=\"text-sm font-medium text-gray-600\">Avg Grade</p>\n                  <p className=\"text-2xl font-semibold text-gray-900\">\n                    {grades.length > 0 \n                      ? (grades.reduce((sum, g) => sum + (g.percentage || 0), 0) / grades.length).toFixed(1) + '%'\n                      : 'N/A'\n                    }\n                  </p>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"card\">\n              <div className=\"flex items-center\">\n                <CalendarIcon className=\"h-8 w-8 text-purple-500\" />\n                <div className=\"ml-4\">\n                  <p className=\"text-sm font-medium text-gray-600\">Credits</p>\n                  <p className=\"text-2xl font-semibold text-gray-900\">\n                    {grades.reduce((sum, grade) => sum + (grade.course?.credits || 0), 0)}\n                  </p>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Grade List */}\n          {grades.length === 0 ? (\n            <div className=\"text-center py-12\">\n              <ChartBarIcon className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\n              <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No grades available</h3>\n              <p className=\"text-gray-600\">Your grades will appear here once assignments are graded</p>\n            </div>\n          ) : (\n            <div className=\"card\">\n              <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">Course Grades</h2>\n              <div className=\"space-y-4\">\n                {grades.map((grade) => (\n                  <div key={grade._id} className=\"flex items-center justify-between p-4 border rounded-lg\">\n                    <div>\n                      <h3 className=\"font-medium text-gray-900\">{grade.course?.title || 'Unknown Course'}</h3>\n                      <p className=\"text-sm text-gray-600\">{grade.course?.courseCode || 'N/A'}</p>\n                    </div>\n                    <div className=\"text-right\">\n                      <span className={`px-3 py-1 rounded-full text-sm font-medium ${getGradeColor(grade.percentage || 0)}`}>\n                        {grade.letterGrade || 'N/A'}\n                      </span>\n                      <p className=\"text-sm text-gray-600 mt-1\">{(grade.percentage || 0).toFixed(1)}%</p>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n        </div>\n      ) : (\n        /* Instructor Grade Management */\n        <div className=\"space-y-6\">\n          {/* Course Selection */}\n          <div className=\"card\">\n            <div className=\"flex items-center justify-between\">\n              <h2 className=\"text-lg font-semibold text-gray-900\">Course Grades</h2>\n              <select\n                value={selectedCourse}\n                onChange={(e) => setSelectedCourse(e.target.value)}\n                className=\"input max-w-xs\"\n              >\n                <option value=\"\">Select Course</option>\n                {courses.map(course => (\n                  <option key={course._id} value={course._id}>\n                    {course.title} ({course.courseCode})\n                  </option>\n                ))}\n              </select>\n            </div>\n          </div>\n\n          {/* Grades Table for Instructors */}\n          {selectedCourse && grades.length > 0 && (\n            <div className=\"card\">\n              <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">Student Grades</h2>\n              <div className=\"overflow-x-auto\">\n                <table className=\"min-w-full divide-y divide-gray-200\">\n                  <thead className=\"bg-gray-50\">\n                    <tr>\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Student</th>\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Grade</th>\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Percentage</th>\n                      <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Status</th>\n                    </tr>\n                  </thead>\n                  <tbody className=\"bg-white divide-y divide-gray-200\">\n                    {grades.map((grade) => (\n                      <tr key={grade._id}>\n                        <td className=\"px-6 py-4 whitespace-nowrap\">\n                          <div className=\"text-sm font-medium text-gray-900\">\n                            {grade.student?.firstName} {grade.student?.lastName}\n                          </div>\n                          <div className=\"text-sm text-gray-500\">{grade.student?.email}</div>\n                        </td>\n                        <td className=\"px-6 py-4 whitespace-nowrap\">\n                          <span className={`px-2 py-1 rounded-full text-sm font-medium ${getGradeColor(grade.percentage)}`}>\n                            {grade.letterGrade}\n                          </span>\n                        </td>\n                        <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                          {grade.percentage.toFixed(1)}%\n                        </td>\n                        <td className=\"px-6 py-4 whitespace-nowrap\">\n                          <span className={`px-2 py-1 rounded-full text-xs ${\n                            grade.isFinalized ? 'bg-green-100 text-green-800' : 'bg-yellow-100 text-yellow-800'\n                          }`}>\n                            {grade.isFinalized ? 'Finalized' : 'Draft'}\n                          </span>\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          )}\n\n          {/* No grades message */}\n          {selectedCourse && grades.length === 0 && (\n            <div className=\"text-center py-12\">\n              <ChartBarIcon className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\n              <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No grades available</h3>\n              <p className=\"text-gray-600\">Grades will appear here once assignments are graded</p>\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default GradeView;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}